Step 1:
Install docker
sudo apt-get update
sudo apt-get remove docker docker-engine docker.io containerd runc
sudo apt-get update
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io


Step 2:
Setup Elasticsearch container and verify elastic its working
sudo su
sudo docker pull elasticsearch:7.2.0
sudo sysctl -w vm.max_map_count=524288
Look for any vm.max_map_count line in /etc/sysctl.conf. If you find one, set its value to 524288. If there is no such line present, add the line
vm.max_map_count=524288
reboot your system
docker run -d -p 9200:9200 -p 9300:9300  -it -h elasticsearch --name elasticsearch -e "discovery.type=single-node" elasticsearch:7.2.0
curl http://localhost:9200/


Step 3: Setup Kibana container
sudo docker pull kibana:7.2.0
docker run -d  -p 5601:5601 -h kibana --name kibana --link elasticsearch:elasticsearch kibana:7.2.0
curl http://localhost:9200/_cat/indices


Step 4: Create logstash config file and use it to setup Logstash container
mkdir config-dir
vim config-dir
add content:

docker run -h logstash --name logstash --link elasticsearch:elasticsearch -it --rm -v "$PWD":/config-dir logstash:7.2.0 -f /config-dir/logstash.conf
curl http://localhost:9200/_cat/indices
docker run -d -p 9500:9500  -h logstash2 --name logstash2 --link elasticsearch:elasticsearch --rm -v "$PWD":/config-dir logstash:7.2.0 -f /config-dir/logstash.conf


